## 운영체제 (Operation System)
> 소프트웨어와 하드웨어를 연결하는 소프트웨어 입니다.

소프트웨어가 컴퓨터 시스템에서 실행되기 위해서는 메모리에 그 프로그램이 올라가 있어야 한다.

앞서 말했듯 운영체제도 소프트웨어이므로 컴퓨터의 전원이 켜짐과 동시에 메모리에 올라가 실행됩니다.


### 운영체제가 하는 일

1. 하드웨어를 위한 역할
컴퓨터 시스템 내의 하드웨어 자원을 효율적으로 관리하는 역할

2. 사용자를 위한 역할
사용자가 컴퓨터 시스템을 편리하게 사용할 수 있는 환경을 제공하는 역할



## 커널 (Kernel)
> 커널은 운영체제의 핵심(Core) 으로, 하드웨어와 사용자(또는 응용 프로그램) 사이를 연결하는 가장 기본적인 소프트웨어입니다.

커널은 운영체제의 가장 아래 계층에서 다음과 같은 역할을 수행합니다.

| 역할                      | 설명                                                       |
| ----------------------- | -------------------------------------------------------- |
| **프로세스 관리**             | 프로그램(프로세스)을 메모리에 올리고, CPU가 어떤 프로세스를 언제 실행할지 스케줄링         |
| **메모리 관리**              | 프로그램이 사용할 메모리를 할당/해제하고, 여러 프로세스가 메모리를 안전하게 나눠쓰도록 관리      |
| **파일 시스템 관리**           | 하드디스크·SSD 등 저장 장치를 제어하고, 파일을 읽고 쓰는 기능 제공                 |
| **디바이스(입출력) 관리**        | 키보드, 마우스, 네트워크 카드, 그래픽카드 등 하드웨어 장치와 프로그램 사이의 입출력(I/O) 조율 |
| **시스템 호출(System Call)** | 사용자 프로그램이 직접 하드웨어를 제어하지 않고, 커널을 통해 안전하게 자원 요청            |




<br>


<br>

## 컴퓨터의 구성요소

### 1. Processor (CPU)
> 중앙처리장치(Central Processing Unit, CPU)라고도 하며, 실질적으로 프로그램을 실행하는 하드웨어 유닛 입니다.

컴퓨터 동작제어, 데이터 처리, 연산 등을 담당합니다.


앞서 언급했듯 프로그램이 실행되기 위해서는 메모리에 올라가 있어야 하므로, 
해당 프로그램을 실행하는 주체인 프로세서는 `메인 메모리`와, CPU 내의 `레지스터`에만 직접 접근이 가능합니다.


참고로, 메모리에 적재되어 실행중인 프로그램은 `Process`라고 합니다.


### 2. Main memory (RAM)
> 주기억장치(Random Access Memory) 라고 하며, 컴퓨터의 CPU가 현재 처리중인 데이터나 명령어만을 일시적으로 저장하는 **휘발성 메모리** 입니다.


즉 컴퓨터의 전윈이 꺼지면 메모리에 저장된 데이터 들은 모두 휘발됩니다.
따라서 데이터를 영속화 하기 위해서는 하드 디스크나 SSD 같은 장치에 기록을 해 놓아야 합니다.

여기서 가장 중요한 점은 프로그램이 실행되기 위해서는 하드 디스크에 저장된 파일을 메모리에 올려 놓아야 한다는 점입니다.


### 3. I/O 모듈
> Input/Output Module 은 외부 입·출력 장치와(하드 디스크) CPU·메인 메모리 간의 데이터 교환을 담당하는 하드웨어 모듈입니다.


### 4. 시스템 버스
> 위에서 언급한 CPU, Memory, I/O 모듈을 연결하는 역할을 합니다.



![](https://velog.velcdn.com/images/chxghee/post/1698476d-c65b-4c05-b3f1-49fcb08029ad/image.png)

1. PC(Program counter)
다음에 실행할 명령어의 주소를 저장하는 레지스터

2. IR(Instruction Register)
현재 실행중인 명령어를 기억하는 레지스터 (수행될 명령)

3. AC(Accumulator, 누산기)
데이터를 일시 저장하는 레지스터

3. MAR(Memory Address Register, 기억장치주소 레지스터)
다음에 수행될 명령어를 꺼내기 위해 현재 PC에 들어 있는 내용(주소)가
시스템 버스로 출력되기 전에 일시적으로 저장되는 주소 레지스터

4. MBR(Memory Buffer Register, 기억장치버퍼 레지스터)
레지스터와 외부에 연결되는 장치사이에서 전송되는 데이터의 전송통로이다.
기억장치로 쓰일 데이터나 기억장치로부터 읽어온 데이터를 임시로 저장하는 레지스터


```
cf) 버퍼란?
CPU와 I/O 모듈 사이의 속도 차이를 조절하기 위해 CPU가 완료한 작업을 버퍼에 넣고 
CPU는 다음 작업을 시작하고, I/O 모듈은 이 data를 이동시킬 수 이쎄 하는 '임시 저장 공간' 압니다.
```

<br>


---

## 프로그램이란?
> 프로그램은 명령어와 데이터의 집합입니다.

명령어가 하는 일은 크게 다음과 같습니다.

1. 프로세서 <-> 메모리 간의 데이터 이동
2. 프로세서 <-> I/O 모듈간의 데이터 이동
3. data 프로세싱(연산)
4. Control (조건문의 jump, 반복문)



## 명령어의 실행
> 명령어의 실행은 `Fetch`와 `Excute` 두 단계를 거칩니다.

![](https://velog.velcdn.com/images/chxghee/post/9deb6a5f-95bd-4028-95e4-75f4f08faba0/image.png)


1. `Fetch`
프로세서가 메모리에서 명령어를 가져오는 단계


2. `Excute`
메모리에 적재된 명령어를 프로세서가 읽어 연산을 실행하는 단계



### `PC`
>다음에 실행될 것 같은 명령어 주소를 저장

### `IR`
> 가장 최근 패치된 명령어 저장(수행된 명령어)

### `PSW (Program status Word)`
> CPU의 현재 상태 정보 저장

- 2 bit condition code - 결과가 0 보다 큰지 작은지/ overflow인지 저장
- 인터럽트 발생 유무 저장
- OS 프로그램인지 일반 프로그램인지 저장


### 덧셈 명령이 이루어 지는 과정

![](https://velog.velcdn.com/images/chxghee/post/5c3e29e2-9ebc-4834-ae13-1553b23a251a/image.png)

1. 메모리에서 명령어를 가져와 IR에 적재합니다.

2. 가져온 명령어를 읽어 피 연산 데이터인 3을 가져 와 AC 에 저장합니다.

3. 다음 명령어의 주소를 PC에서 읽은 뒤 메모리에서 실제 명령을 가져와 IR에 저장합니다.

4. AC에 저장된 3과 정수 2를 가져와 덧셈을 실행하고, 그 결과를 AC에 저장합니다.

5. 다음 저장 명령인 302 번 명령을 IR에 가져 온 뒤 AC에 임시 저장된 데이터를 메인 메모리에 저장합니다.



